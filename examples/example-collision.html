<!DOCTYPE html>
<html>

<head>
    <title class='title'>examples/collision</title>
    <link rel='stylesheet' type='text/css' href='../styles/tests.css'/>
    <link rel='icon' type='image/png' href='../images/gear2.png'>
    <script src='../lib/jquery.js'></script>
    <script src='../lib/underscore.js'></script>
    <script src='../util/require.js'></script>
</head>

<body>
<p>
    <a href='./'>../</a> <a href=''>reload</a>
</p>

<h1>examples/collision</h1>
<script>
    var director = require('../director.js');
    var utils = require('./utils.js');

    var world = {
        body: {
            falling: {
                shape: {
                    type: utils.randomItem(['sphere', 'box', 'cone', 'cylinder']),
                    r: 1, dx: 1, dy: 1.2, dz: 1.4,
                    segments: 32
                },
                position: { x: 0.1 * Math.random(), y: 5, z: 0.1 },
                rotation: { x: Math.random(), y: Math.random(), z: 0 },
                material: {type: 'basic', wireframe: true, color: 0x991122},
                mass: 0.1
            },
            floor: {
                shape: {
                    type: utils.randomItem(['sphere', 'box', 'cone', 'cylinder']),
                    dx: 10, dz: 5, dy: 2, r: 5,
                    segments: 64
                },
                position: {
                    x: 0.3,
                    y: Math.random() - 4,
                    z: 0.1
                },
                rotation: { x: Math.random(), y: Math.random(), z: 0 },
                material: {type: 'basic', wireframe: true, color: 0x338855},
                mass: 0
            }
        },
        monitor: {
            m1: {camera: 'tracker', width: 600,
                lookAt: 'falling', axis: {x: 1, y: 0.5, z: 0.3}, distance: 20, inertia: 1
            }
        }
    };
    director.loadScene(world, {webWorker: true, axisHelper: 5});
    director.factory.startSimulation();
    director.startRender();
</script>
</body>
</html>